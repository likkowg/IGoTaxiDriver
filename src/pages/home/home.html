<ion-header>

  <ion-navbar color="primary">
    <button ion-button menuToggle>
      <ion-icon name="menu"></ion-icon>
    </button>
    <ion-title>Home</ion-title>
  </ion-navbar>
</ion-header>



<ion-content>
  <ion-grid no-padding>
    <ion-col no-padding>
      <ion-row class="map">
        <div class="img">
        </div>
      </ion-row>

      <!-- User profile 
    <h3>Current Latitude: {{locationTracker.lat}}</h3>
    <h3>Current Longitude: {{locationTracker.lng}}</h3>
    <button ion-button full primary (click)="start()">Start Tracking</button>
    <button ion-button full primary (click)="stop()">Stop Tracking</button>
    -->

      <ion-row>
        <ion-col col-6></ion-col>
        <ion-col col-6 no-padding>
          <ion-item no-lines no-padding>
            <ion-label>
              <p>Servicio:</p>
            </ion-label>
            <ion-toggle checked="false" [(ngModel)]="isOnline" (ionChange)="statusChanged()"></ion-toggle>
          </ion-item>
        </ion-col>
      </ion-row>


      <ion-row>
        <!-- User profile 
    <h3 ion-text color="light">{{ (driver)?.name }}</h3>
    <h4 ion-text color="gray">{{ (driver)?.plate }}</h4>
  -->

        <ion-col>
          <div text-center padding>
            <span ion-text color="gray">Placa</span>
            <h4 ion-text>{{ (driver)?.plate }}</h4>
          </div>
        </ion-col>
        <ion-col>
          <div text-center padding>
            <span ion-text color="gray">Calificaci√≥n</span>
            <h4 *ngIf="(driver)?.rating">
              <ion-icon name="md-star" color="yellow" *ngFor="let start of range(driver.rating)"></ion-icon>
              <ion-icon name="md-star" color="dark" *ngFor="let start of range(4.9- driver.rating)"></ion-icon>
            </h4>
          </div>
        </ion-col>
      </ion-row>

      <ion-row>
        <ion-col>
          <div text-center padding>
            <span ion-text color="gray">Marca de Auto</span>
            <h4 ion-text>{{ (driver)?.brand }}</h4>
          </div>
        </ion-col>
        <ion-col>
          <div text-center padding>
            <span ion-text color="gray">Modelo de Auto</span>
            <h4 ion-text>{{ (driver)?.model }}</h4>
          </div>
        </ion-col>
      </ion-row>

      <ion-row>
        <ion-card>
          <span ion-text color="gray" text-center>Resumen Diario</span>
          <ion-row>
            <ion-col>
              <ion-item>
                <ion-avatar item-start>
                  <img src="{{ driver?.photoURL }}">
                </ion-avatar>

                <h2>{{ (driver)?.name}}</h2>
                <div *ngIf="this.isOnline">
                  <p style="color:rgb(0, 110, 37)">
                    En Linea
                  </p>
                </div>
                <div *ngIf="!this.isOnline" no-padding>
                  <p style="color:rgb(182, 0, 0)">
                    Offline
                  </p>
                </div>
              </ion-item>
            </ion-col>

            <ion-col>
              <ion-item>
                <div align="right">
                  <p>S/.{{ stats?.today }}</p>
                  <p>Hoy</p>
                </div>
              </ion-item>
            </ion-col>
          </ion-row>

        </ion-card>
      </ion-row>
    </ion-col>
  </ion-grid>
  <div>
    <!-- User profile 
    <h3>Current Latitude: {{locationTracker.lat}}</h3>
    <h3>Current Longitude: {{locationTracker.lng}}</h3>
    <button ion-button full primary (click)="start()">Start Tracking</button>
    <button ion-button full primary (click)="stop()">Stop Tracking</button>
    -->

  </div>
</ion-content>